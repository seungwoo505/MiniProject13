<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>비밀상자</title>
</head>
<body>
  <header>
    <div class="header-left">
      <span class="drive-text">비밀상자</span>
    </div>
    <div class="header-center">
      <input type="text" id="search-bar" placeholder="검색어를 입력하세요..." />
    </div>
  <!-- 로그인 버튼-->
    <div id="member-container">
      <button id="login_button">로그인</button>
    </div>
  </header>


  <div class="sidebar-content">
    <!-- 왼쪽 사이드바 -->
    <nav class="sidebar">
      <button id="add-file-btn">파일 추가</button>
      <ul>
        <li><a href="#" id="myDocsLink" class="active">내 문서함</a></li>
        <li><a href="#" id="sharedDocsLink">공유 문서함</a></li>
      </ul>
    </nav>
  
  <!-- 파일 업로드 모달 -->
  <div id="fileModal" class="modal">
    <div class="modal-content">

      <div class="close-div">
        <span class="close-upload">&times;</span>
       </div>
       <h2> 파일 업로드</h2>
      <!-- 드래그 앤 드롭 영역 -->
      <div id="dropZone">
        여기에 파일을 드래그 앤 드롭하세요.
      </div>
      <button id="uploadBtn" class="">파일 업로드</button>
      
      <!-- 결과 메시지 영역 -->
      <div id="result" class="resultmsg"></div>
    </div>
</div>

    <!-- 파일 리스트 공간 -->
    <main class="file-area">
      <div id="file-list" class="file-list">
      </div>
    </main>
  </div>

  <!-- 파일 정보 모달 -->
  <div id="fileDetailModal" class="modal">
    <div class="modal-content">
      <div class="close-div">
        <span class="close-file-detail">&times;</span>
      </div>
      
      <div class="Filedetail-div">
        <h2 id="detailFileName"></h2>
        <p id="detailFileDates"></p>
        <p id="detailFileOwner"></p>
      <button class="fileDetailButton" id="downloadFileBtn" onclick="downloadFile()"><i class="fa-solid fa-download"></i> 다운로드</button>
      </div>

      <div class="share-div" id="shar-div">
        <h2 class="share-target-text">공유 대상</h2>
        <p> - <b>공유 대상이 없을 경우</b> 생성된 링크는 모든 사용자가 접근이 가능합니다.</p>
        <p> - <b>공유 대상이 있을 경우</b> 생성된 링크는 공유된 사용자만 접근이 가능합니다.</p>
        <ul id="shareList" class="list-group"></ul>
         <div class="sharTarget-div">
          <input type="text" id="shareTarget" placeholder="공유 대상 ID를 입력하고 링크 생성을 눌러주세요">
          <button class="fileDetailButton" id="shareButton"><i class="fa-solid fa-share-nodes"></i> 공유</button>
         </div>
      </div>

      <div class="share-btn-div" id="share-btn-div">
        <button class="btn btn-danger btn-sm" id="deleteButton">파일삭제</button>
        <button class="fileDetailButton" id="generateLinkBtn"><i class="fa-solid fa-link"></i> 링크 생성</button>
      </div>

      <div id="commentSection" class="mt-3">
        <h3>댓글</h3>
        <div id="commentList"></div>
        <div class="mt-2">
          <textarea id="commentContent" class="form-control" placeholder="댓글을 입력하세요." rows="3"></textarea>
          <button id="addCommentBtn" class="btn btn-primary mt-2">댓글 추가</button>
        </div>
      </div>

    </div>
  </div>

<!-- 공유 파일 전용 모달 -->
<div id="shareFileDetailModal" class="modal">
  <div class="modal-content">
    <div class="close-div">
      <span class="close-share-file-detail">&times;</span>
    </div>
    
    <div class="Filedetail-div">
      <h2 id="shareDetailFileName"></h2>
      <p id="shareDetailFileDates"></p>
      <p id="shareDetailFileOwner"></p>
      
      <div class="button-container">
        <button class="fileDetailButton" id="downloadFileBtnShare" onclick="downloadFile()">
          <i class="fa-solid fa-download"></i> 다운로드
        </button>
      </div>

      <div id="sharecommentSection" class="mt-3">
        <h3>댓글</h3>
        <div id="sharecommentList"></div>
        <div class="mt-2">
          <textarea id="sharecommentContent" class="form-control" placeholder="댓글을 입력하세요." rows="3"></textarea>
          <button id="shareaddCommentBtn" class="btn btn-primary mt-2">댓글 추가</button>
        </div>
      </div>

    </div>
  </div>
</div>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="./css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="./js/FileDownload.js"></script>
  <script src="./js/FileUpload.js"></script>
  <script src="./js/File.js"></script>
  <script src="./js/index.js"></script>
  <script src="./js/FileComment.js"></script>
  <script src="./js/FileDelete.js"></script>
</body>
</html>